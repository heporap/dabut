/*! dabut.js - ver. 0.1.1 - 2014-10-23
* https://github.com/heporap/dabut
* Copyright (c) 2014 Wicker Wings
* License: MIT */
!function(a,b){"use strict";var c=[],d=!1,e={},f=e.initialize=function(a){return d?a():c.push(a),f},g=function(b){w(a,"load",g),w(a,"DOMContentLoaded",g),d=!0,o(c,function(a){a(b)}),c.length=0,t(u),g=null},h=e.isFunction=function(a){return"[object Function]"===Object.prototype.toString.call(a)},i=e.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.isObject=function(a){return"[object Object]"===Object.prototype.toString.call(a)};var j=e.isString=function(a){return"[object String]"===Object.prototype.toString.call(a)},k=e.isNumber=function(a){return"[object Number]"===Object.prototype.toString.call(a)},l=function(a){var b,c=[];for(b=0;b<a.length;b++)null!==a[b]&&c.push(a[b]);return c},m=e.el=function(a,b){return n(a,b)[0]},n=e.els=function(a,b){return b=b||document,l(b.querySelectorAll(a))},o=e.each=function(a,c,d){var e,f,g=[],i=[null,0,a].concat(Array.prototype.slice.call(arguments,2)),j=function(a,j){i[1]=j,h(a)?(i[0]=d.length!==b?d[e]:d,f=a.apply(i[0],i)):(i[0]=a,f=c.apply(d,i)),f===!0?g.push(a):f!==!1&&f!==b&&g.push(f)};if(a.length!==b)for(e=0;e<a.length;e++)j(a[e],e);else for(var k in a)a.hasOwnProperty(k)&&j(a[k],k);return g},p=function(){var a=window.getComputedStyle(document.documentElement,""),b=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1],c="WebKit|Moz|MS|O".match(new RegExp("("+b+")","i"))[1];return{dom:c,lowercase:b,css:"-"+b+"-",js:b[0].toUpperCase()+b.substr(1)}}(),q=function(a,b){return window.getComputedStyle?window.getComputedStyle(a,"")[b]:a.currentStyle[b]?a.currentStyle[b]:null};e.position=function(c,d){j(c)?c=m(c):c===a&&(c=a.document.body),d=d!==b||d?"abs":d;var e=c.getBoundingClientRect(),f=document.documentElement,g=Math,h="abs"===d?window.scrollX||(document.body.scrollLeft||f.scrollLeft)-f.clientLeft:0,i="abs"===d?window.scrollY||(document.body.scrollTop||f.scrollTop)-f.clientLeft:0;return{left:g.round(e.left+h),top:g.round(e.top+i),width:g.round(e.width),height:g.round(e.height)}};var r=e.style=function(a,c,d){var e,f={},g=/(\-([a-z]))/g;return i(c)?(o(c,function(b){f[b]=r(a,b)}),f):j(c)?("float"===c&&(c="-ms-"===p.css?"styleFloat":"cssFloat"),g.test(c)&&(c=c.replace(g,function(){return arguments[2].toUpperCase()})),e=p.js+c,d!==b?(a.style[e]=d,a.style[c]=d,d):q(a,c)||q(a,e)):(o(c,function(b,c){r(a,c,b)}),null)},s=Date.now?Date.now:function(){return+new Date},t=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame||function(){var a=s();return function(b){var c=function(){b.call(context,s()-a)};setTimeout(c,1e3/60)}}(),u=e.ticker=function(a){var b,c=u;for(b=0;b<c.callbacks.length;b++)c.callbacks[b].call(c.contexts[b],a);t(u)};u.callbacks=[],u.contexts=[],u.manager={},u.append=function(a,b){this.callbacks.push(a),this.contexts.push(b||null);var c=this.callbacks.length,d=this.callbacks.length-1;return this.manager[c]=d,c},u.remove=function(a){if(k(a)){var c=this.manager[a];if(c===b)return;this.callbacks.splice(c,1),this.contexts.splice(c,1),delete this.manager[a];for(var d in this.manager)this.manager[d]>c&&this.manager[d]--}else if(h(a))for(var e=0;e<this.callbacks.length;e++)if(this.callbacks[e]===a){this.remove(e);break}return this};var v=e.on=function(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent("on"+b,c);else{var d=a["on"+b];a["on"+b]=function(a){d(a),hander(a)}}},w=e.off=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.dettachEvent?a.dettachEvent("on"+b,c):a["on"+b]=null};if(v(a,"load",g),a.document){v(a.document,"DOMContentLoaded",g);var x=function(){/complete|loaded/.test(a.document.readyState)?g&&g():setTimeout(x,16)};x()}var y=a.dab||{};return a.dab=y,y.klass=y.klass||{},y.klass.dabut="initialize el els each ticker position style on off isString isNumber isFunction isArray isObject",y.exports||(y.exports=function(b){var c,d,e,f;for(b=b.split(/ /),c=0;c<b.length;c++)if(e=b[c],this.klass[e]){var g=this.klass[e].split(" ");for(d=0;d<g.length;d++)if(f=g[d],-1===f.indexOf("."))a[f]=a[e][f];else{var h=f.split(".");a[h[1]]=a[h[0]][h[1]]}}}),"function"==typeof define&&define.amd?(a.document&&g(),define("dabut",function(){return e})):a.dabut=e,e}(this);